<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Testing of IVALab Python Libraries: /home/pvela/python/puzzle_solver/testing/solver/calib03incremental.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Testing of IVALab Python Libraries
   </div>
   <div id="projectbrief">Collection of test code for IVALab Python Libraries.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_577b79aa997aea6169c72f94892281b5.html">puzzle_solver</a></li><li class="navelem"><a class="el" href="dir_d8b87518a909ed7914d59411139e3cfb.html">testing</a></li><li class="navelem"><a class="el" href="dir_03de82443212e0b943db0620f8f27e51.html">solver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">calib03incremental.py File Reference<div class="ingroups"><a class="el" href="group__TestPuzzleSolver.html">Puzzle Solver</a> &raquo; <a class="el" href="group__TestPuzzle__Solver.html">Puzzle Solver</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Calibrated puzzle built out incrementally from another puzzle board. but within a larger image.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab4bd3e93e63022371d3fc01dea451c0b"><td class="memItemLeft" align="right" valign="top"><a id="ab4bd3e93e63022371d3fc01dea451c0b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>argparser</b> = argparse.ArgumentParser()</td></tr>
<tr class="separator:ab4bd3e93e63022371d3fc01dea451c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd14dafe5ec2bc915d38c01ddd0db5f"><td class="memItemLeft" align="right" valign="top"><a id="a9cd14dafe5ec2bc915d38c01ddd0db5f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>cfgDet</b> = diffs.CfgDifferences()</td></tr>
<tr class="separator:a9cd14dafe5ec2bc915d38c01ddd0db5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb4716b1335c5e5f5f6a1e987c2fd95"><td class="memItemLeft" align="right" valign="top"><a id="aebb4716b1335c5e5f5f6a1e987c2fd95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>chDet</b> = diffs.fgDifferences(cfgDet)</td></tr>
<tr class="separator:aebb4716b1335c5e5f5f6a1e987c2fd95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364cdd17dd69b9ddcc95e8733eb18272"><td class="memItemLeft" align="right" valign="top"><a id="a364cdd17dd69b9ddcc95e8733eb18272"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>choices</b></td></tr>
<tr class="separator:a364cdd17dd69b9ddcc95e8733eb18272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb1327b18bf08a379d19eef89cf1ed1"><td class="memItemLeft" align="right" valign="top"><a id="affb1327b18bf08a379d19eef89cf1ed1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>default</b></td></tr>
<tr class="separator:affb1327b18bf08a379d19eef89cf1ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fdbde2aff84e8671fab09e8ec30233f"><td class="memItemLeft" align="right" valign="top"><a id="a7fdbde2aff84e8671fab09e8ec30233f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>doAccum</b></td></tr>
<tr class="separator:a7fdbde2aff84e8671fab09e8ec30233f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ae9faedaa69e3e28e2960a0548df8d"><td class="memItemLeft" align="right" valign="top"><a id="a81ae9faedaa69e3e28e2960a0548df8d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>help</b></td></tr>
<tr class="separator:a81ae9faedaa69e3e28e2960a0548df8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9f593e201af12fe7f39f27a1723df8"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>img_dict</b></td></tr>
<tr class="separator:aaa9f593e201af12fe7f39f27a1723df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6baee6c20771d451c76ceff6f2989dc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>improc</b></td></tr>
<tr class="separator:a6baee6c20771d451c76ceff6f2989dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94dfab099c809de54fd8e9072cc96f72"><td class="memItemLeft" align="right" valign="top"><a id="a94dfab099c809de54fd8e9072cc96f72"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>imsize</b> = np.array(np.shape(theImage))</td></tr>
<tr class="separator:a94dfab099c809de54fd8e9072cc96f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61569f2965b7a369eb10b6d75d410d11"><td class="memItemLeft" align="right" valign="top"><a id="a61569f2965b7a369eb10b6d75d410d11"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>int</b></td></tr>
<tr class="separator:a61569f2965b7a369eb10b6d75d410d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7336659c812b994a18a5f4684f06682"><td class="memItemLeft" align="right" valign="top"><a id="ab7336659c812b994a18a5f4684f06682"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>kPiece</b> = thePuzzle.pieces[pk]</td></tr>
<tr class="separator:ab7336659c812b994a18a5f4684f06682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc20d23116411732433f66e78beebd2"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>mask_dict</b></td></tr>
<tr class="separator:a2bc20d23116411732433f66e78beebd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5233ffbb722c9b1b67d7acf9237f52e"><td class="memItemLeft" align="right" valign="top"><a id="af5233ffbb722c9b1b67d7acf9237f52e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>newImage</b> = np.zeros(imsize, dtype=np.uint8)</td></tr>
<tr class="separator:af5233ffbb722c9b1b67d7acf9237f52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45dccdb6b8f2d4b7bd4e34094f1ede9f"><td class="memItemLeft" align="right" valign="top"><a id="a45dccdb6b8f2d4b7bd4e34094f1ede9f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>newPuzzle</b> = puzzle.Board()</td></tr>
<tr class="separator:a45dccdb6b8f2d4b7bd4e34094f1ede9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ab9b93bf03aa54f98c7a5e28e526ff"><td class="memItemLeft" align="right" valign="top"><a id="a95ab9b93bf03aa54f98c7a5e28e526ff"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>opt</b> = argparser.parse_args()</td></tr>
<tr class="separator:a95ab9b93bf03aa54f98c7a5e28e526ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace96d70a929a737bb705aa0f539decaa"><td class="memItemLeft" align="right" valign="top"><a id="ace96d70a929a737bb705aa0f539decaa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>prefix</b> = pkg_resources.resource_filename('puzzle', '../testing/data/')</td></tr>
<tr class="separator:ace96d70a929a737bb705aa0f539decaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d40cf84567ffcb016b52cd194d43a0"><td class="memItemLeft" align="right" valign="top"><a id="a99d40cf84567ffcb016b52cd194d43a0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>puzzImage</b> = np.zeros(imsize, dtype=np.uint8)</td></tr>
<tr class="separator:a99d40cf84567ffcb016b52cd194d43a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b99ff73a8a869319570237b5c57ab03"><td class="memItemLeft" align="right" valign="top"><a id="a4b99ff73a8a869319570237b5c57ab03"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>str</b></td></tr>
<tr class="separator:a4b99ff73a8a869319570237b5c57ab03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89251044a9c9bc8a767fa2978493cda"><td class="memItemLeft" align="right" valign="top"><a id="ac89251044a9c9bc8a767fa2978493cda"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>theDet</b> = FromSketch(improc)</td></tr>
<tr class="separator:ac89251044a9c9bc8a767fa2978493cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab84b9f87bcbb591685cab8162e29685e"><td class="memItemLeft" align="right" valign="top"><a id="ab84b9f87bcbb591685cab8162e29685e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>theImage</b> = cv2.imread(prefix + img_dict[opt.image])</td></tr>
<tr class="separator:ab84b9f87bcbb591685cab8162e29685e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf5a73cd9fbea1ee032e93397394878"><td class="memItemLeft" align="right" valign="top"><a id="a0cf5a73cd9fbea1ee032e93397394878"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>theLabels</b> = label(theDet.getState().x)</td></tr>
<tr class="separator:a0cf5a73cd9fbea1ee032e93397394878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f17b25867dd027148c04f68f7cc7ef"><td class="memItemLeft" align="right" valign="top"><a id="a68f17b25867dd027148c04f68f7cc7ef"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>theMask</b> = cv2.imread(prefix + mask_dict[opt.mask])</td></tr>
<tr class="separator:a68f17b25867dd027148c04f68f7cc7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae478e86e855d44c1a1a385128031df44"><td class="memItemLeft" align="right" valign="top"><a id="ae478e86e855d44c1a1a385128031df44"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>thePuzzle</b> = puzzle.Board()</td></tr>
<tr class="separator:ae478e86e855d44c1a1a385128031df44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aead736a07eaf25623ad7bfa1f0ee2d"><td class="memItemLeft" align="right" valign="top"><a id="a7aead736a07eaf25623ad7bfa1f0ee2d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>type</b></td></tr>
<tr class="separator:a7aead736a07eaf25623ad7bfa1f0ee2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a464766317ca2878de63df2ec7c041"><td class="memItemLeft" align="right" valign="top"><a id="af1a464766317ca2878de63df2ec7c041"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>window_name</b></td></tr>
<tr class="separator:af1a464766317ca2878de63df2ec7c041"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Calibrated puzzle built out incrementally from another puzzle board. but within a larger image. </p>
<p>Shows how to generate a calibrated puzzle piece by incrementally building it up piece by piece through image snapshots after each added piece. <br  />
</p>
<p>The full Surveillance system would use something like glove shots as the outer loop. When the glove goes out of the field of view an image is taken. That image then feeds a foreground difference detector that finds the changed region and sends it along as a mask (with image) to the board for puzzle piece extraction and addition to the board's bag.</p>
<p>A similar approach may be used for assessing puzzle progress (may be incorrect if there is not appearance matching with the pieces and just testing of existence of a piece).</p>
<dl class="section author"><dt>Author</dt><dd>Patricio A. Vela, <a href="#" onclick="location.href='mai'+'lto:'+'pve'+'la'+'@ga'+'te'+'ch.'+'ed'+'u'; return false;">pvela<span style="display: none;">.nosp@m.</span>@gat<span style="display: none;">.nosp@m.</span>ech.e<span style="display: none;">.nosp@m.</span>du</a></dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025/02/15 <br  />
</dd></dl>
<p>============================= calib03incremental ============================ </p>
</div><h2 class="groupheader">Variable Documentation</h2>
<a id="aaa9f593e201af12fe7f39f27a1723df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9f593e201af12fe7f39f27a1723df8">&#9670;&nbsp;</a></span>img_dict</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary img_dict</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  {</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&#39;duck&#39;</span>: <span class="stringliteral">&#39;duck.jpg&#39;</span>,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <span class="stringliteral">&#39;earth&#39;</span>: <span class="stringliteral">&#39;earth.jpg&#39;</span>,</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <span class="stringliteral">&#39;balloon&#39;</span>: <span class="stringliteral">&#39;balloon.png&#39;</span>,</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="stringliteral">&#39;elsa1&#39;</span>: <span class="stringliteral">&#39;FrozenII_Elsa_1.jpg&#39;</span>,</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="stringliteral">&#39;elsa2&#39;</span>: <span class="stringliteral">&#39;FrozenII_Elsa_2.jpg&#39;</span>,</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="stringliteral">&#39;rapunzel&#39;</span>: <span class="stringliteral">&#39;Rapunzel.jpg&#39;</span>,</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="stringliteral">&#39;dinos&#39;</span>: <span class="stringliteral">&#39;Amazon_Dinos_2.jpg&#39;</span>,</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="stringliteral">&#39;fish&#39;</span>: <span class="stringliteral">&#39;fish.jpg&#39;</span>,</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6baee6c20771d451c76ceff6f2989dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6baee6c20771d451c76ceff6f2989dc2">&#9670;&nbsp;</a></span>improc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">improc</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  improcessor.basic(cv2.cvtColor, (cv2.COLOR_BGR2GRAY,),</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                 improcessor.basic.thresh, ((150, 255, cv2.THRESH_BINARY),))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bc20d23116411732433f66e78beebd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc20d23116411732433f66e78beebd2">&#9670;&nbsp;</a></span>mask_dict</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary mask_dict</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  {</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    15: <span class="stringliteral">&#39;puzzle_15p_123rf.png&#39;</span>,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    35: <span class="stringliteral">&#39;puzzle_35p.png&#39;</span>,</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    48: <span class="stringliteral">&#39;puzzle_48p.jpg&#39;</span>,</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    60: <span class="stringliteral">&#39;puzzle_60p_AdSt408534841.png&#39;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
